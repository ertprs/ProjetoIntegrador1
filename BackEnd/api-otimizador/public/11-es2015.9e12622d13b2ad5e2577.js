(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Bp5B:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),a=u("978R"),s=u("z/SZ"),r=u("2uy1"),c=u("SVse"),o=u("s7LF"),b=u("xkgV"),p=u("jvCn"),g=u("7g+E");class d{constructor(l,n,u,t,e){this.http=l,this.router=n,this.route=u,this.spiner=t,this.alert=e,this.controles=[],this.timer=null,this.campoBusca="",this.meses=[{}]}ngOnInit(){this.atualizaLista(),this.meses=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"]}atualizaLista(l=1){this.spiner.show(),this.http.listaGeral(l,this.campoBusca).subscribe(l=>{this.controles=l.data,this.totalRegistros=l.total,this.paginaAtual=l.current_page,this.spiner.hide()},l=>{this.alert.showAlertDanger("Erro ao buscar dados!"),this.spiner.hide()})}buscaDados(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.atualizaLista()},500)}previous(l){this.atualizaLista(l-1)}next(l){this.atualizaLista(l+1)}setarPagina(l){this.atualizaLista(l)}verObservacoes(l){this.router.navigate(["/observacoes/"+l])}verControle(l){this.router.navigate(["/controles/"+l])}}var m=u("eWbo"),h=u("IheW"),f=u("iInd"),v=u("sdrn");let w=(()=>{class l extends m.a{constructor(l,n,u){super(),this.http=l,this.router=n,this.alertService=u,this.url=this.urlBase+"/relatorios/controle",this.httpOptions={headers:new h.g({"Content-Type":"application/json"})}}listaGeral(l,n){return this.http.get(`${this.url}/relatorio-geral?page=${l}&filtro=${n}`)}}return l.ngInjectableDef=t.Ub({factory:function(){return new l(t.Vb(h.c),t.Vb(f.k),t.Vb(v.a))},token:l,providedIn:"root"}),l})();var x=t.ub({encapsulation:0,styles:[[""]],data:{}});function I(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"td",[["class","text-center align-middle"]],null,null,null,null,null)),(l()(),t.Ob(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.empresa.tipo)}))}function O(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"td",[["class","align-middle"]],null,null,null,null,null)),(l()(),t.Ob(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.empresa.nome)}))}function C(l){return t.Qb(0,[(l()(),t.wb(0,16777216,null,null,2,"div",[["placement","auto"]],null,null,null,null,null)),t.vb(1,212992,null,0,a.c,[t.T,s.a,a.a,t.n,t.I,r.a],{tooltip:[0,"tooltip"],placement:[1,"placement"]},null),(l()(),t.wb(2,0,null,null,0,"i",[["class","fas fa-eye"]],null,null,null,null,null)),(l()(),t.lb(0,null,null,0))],(function(l,n){l(n,1,0,n.parent.context.$implicit.observacao,"auto")}),null)}function $(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,C)),t.vb(2,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.mes_referencia==n.parent.parent.context.$implicit&&"Pendente"==n.context.$implicit.estado)}),null)}function Q(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,$)),t.vb(2,278528,null,0,c.i,[t.T,t.Q,t.u],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.observacoes)}),null)}function k(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,6,"td",[["class","text-center align-middle"]],null,null,null,null,null)),t.Lb(512,null,c.s,c.t,[t.u,t.v,t.n,t.I]),t.vb(2,278528,null,0,c.h,[c.s],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Kb(3,{"table-success":0,"table-danger":1,"table-secondary":2}),(l()(),t.lb(16777216,null,null,1,null,Q)),t.vb(5,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.Ob(6,null,[" "," "]))],(function(l,n){var u=l(n,3,0,"OK"==n.parent.context.$implicit[n.context.$implicit],"X"==n.parent.context.$implicit[n.context.$implicit],""==n.parent.context.$implicit[n.context.$implicit]);l(n,2,0,"text-center align-middle",u),l(n,5,0,n.parent.context.$implicit.observacoes)}),(function(l,n){l(n,6,0,n.parent.context.$implicit[n.context.$implicit])}))}function T(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"button",[["class","btn btn-secondary btn-sm ml-0 mb-2"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.verObservacoes(l.parent.context.$implicit.id_controle)&&t),t}),null,null)),(l()(),t.wb(1,0,null,null,0,"i",[["class","fas fa-eye"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,[" Obs"]))],null,null)}function G(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,I)),t.vb(2,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.lb(16777216,null,null,1,null,O)),t.vb(4,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.wb(5,0,null,null,1,"td",[["class","text-center align-middle"]],null,null,null,null,null)),(l()(),t.Ob(6,null,["",""])),(l()(),t.lb(16777216,null,null,1,null,k)),t.vb(8,278528,null,0,c.i,[t.T,t.Q,t.u],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(9,0,null,null,1,"td",[["class","text-center align-middle"]],null,null,null,null,null)),(l()(),t.Ob(10,null,["",""])),(l()(),t.wb(11,0,null,null,2,"td",[["class","text-center align-middle"]],null,null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,T)),t.vb(13,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.wb(14,0,null,null,3,"td",[["class","text-center align-middle"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,2,"button",[["class","btn btn-info btn-sm mr-0 mb-2"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.verControle(l.context.$implicit.empresa.id_empresa)&&t),t}),null,null)),(l()(),t.wb(16,0,null,null,0,"i",[["class","fas fa-eye"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,[" Controle"]))],(function(l,n){var u=n.component;l(n,2,0,n.context.$implicit.empresa),l(n,4,0,n.context.$implicit.empresa),l(n,8,0,u.meses),l(n,13,0,n.context.$implicit.observacoes&&n.context.$implicit.observacoes[0])}),(function(l,n){l(n,6,0,n.context.$implicit.ano),l(n,10,0,n.context.$implicit.empresa.usuario.nome)}))}function j(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"a",[["class","page-link"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.previous(e.paginaAtual)&&t),t}),null,null)),(l()(),t.Ob(-1,null,[" \xab "]))],null,null)}function B(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"a",[["class","page-link"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.setarPagina(l.parent.context.$implicit.value)&&t),t}),null,null)),(l()(),t.wb(1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ob(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.label)}))}function y(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"div",[["class","page-item"]],null,null,null,null,null)),(l()(),t.wb(1,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(l()(),t.Ob(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.label)}))}function P(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,4,"div",[["class","page-item"]],[[2,"current",null]],null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,B)),t.vb(2,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.lb(16777216,null,null,1,null,y)),t.vb(4,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,t.Ib(n.parent,60).getCurrent()!==n.context.$implicit.value),l(n,4,0,t.Ib(n.parent,60).getCurrent()===n.context.$implicit.value)}),(function(l,n){l(n,0,0,t.Ib(n.parent,60).getCurrent()===n.context.$implicit.value)}))}function L(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"a",[["class","page-link"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.next(e.paginaAtual)&&t),t}),null,null)),(l()(),t.Ob(-1,null,[" \xbb "]))],null,null)}function F(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(1,0,null,null,1,"h4",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["Nenhum registro encontrado!"]))],null,null)}function A(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["Relatorio Geral"])),(l()(),t.wb(2,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(3,0,null,null,0,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,0,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,10,"div",[["class","col-sm-4 form-inline mb-2 justify-content-end"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,1,"span",[["class","input-group-text"],["id","inputGroupPrepend2"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,0,"i",[["class","fas fa-search"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,5,"input",[["aria-label","Busca"],["class","form-control mr-sm-2"],["placeholder","Pesquisar..."],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Ib(l,11)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Ib(l,11).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Ib(l,11)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Ib(l,11)._compositionEnd(u.target.value)&&e),"input"===n&&(e=!1!==i.buscaDados()&&e),"ngModelChange"===n&&(e=!1!==(i.campoBusca=u)&&e),e}),null,null)),t.vb(11,16384,null,0,o.c,[t.I,t.n,[2,o.a]],null,null),t.Lb(1024,null,o.k,(function(l){return[l]}),[o.c]),t.vb(13,671744,null,0,o.o,[[8,null],[8,null],[8,null],[6,o.k]],{model:[0,"model"]},{update:"ngModelChange"}),t.Lb(2048,null,o.l,null,[o.o]),t.vb(15,16384,null,0,o.m,[[4,o.l]],null,null),(l()(),t.wb(16,0,null,null,42,"table",[["class","table table-sm table-striped table-hover table-bordered table-responsive-sm"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,36,"thead",[],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Ob(-1,null,["Tipo"])),(l()(),t.wb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Ob(-1,null,["Empresa"])),(l()(),t.wb(22,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["Ano"])),(l()(),t.wb(24,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["JAN"])),(l()(),t.wb(26,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["FEV"])),(l()(),t.wb(28,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["MAR"])),(l()(),t.wb(30,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["ABR"])),(l()(),t.wb(32,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["MAI"])),(l()(),t.wb(34,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["JUN"])),(l()(),t.wb(36,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["JUL"])),(l()(),t.wb(38,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["AGO"])),(l()(),t.wb(40,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["SET"])),(l()(),t.wb(42,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["OUT"])),(l()(),t.wb(44,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["NOV"])),(l()(),t.wb(46,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["DEZ"])),(l()(),t.wb(48,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["RESPONS\xc1VEL"])),(l()(),t.wb(50,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["OBS"])),(l()(),t.wb(52,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,["CONTROLES"])),(l()(),t.wb(54,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),t.lb(16777216,null,null,3,null,G)),t.vb(56,278528,null,0,c.i,[t.T,t.Q,t.u],{ngForOf:[0,"ngForOf"]},null),t.Kb(57,{itemsPerPage:0,currentPage:1,totalItems:2}),t.Jb(0,b.b,[b.d]),(l()(),t.wb(59,0,null,null,9,"pagination-template",[["class","pagination justify-content-end mr-5 mb-3"]],null,[[null,"pageChange"],[null,"pageBoundsCorrection"]],(function(l,n,u){var t=!0,e=l.component;return"pageChange"===n&&(t=!1!==e.pageChange.emit(u)&&t),"pageBoundsCorrection"===n&&(t=!1!==e.pageBoundsCorrection.emit(u)&&t),t}),null,null)),t.vb(60,737280,[["p",4]],0,b.c,[b.d,t.i],null,{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"}),(l()(),t.wb(61,0,null,null,2,"div",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,j)),t.vb(63,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.lb(16777216,null,null,1,null,P)),t.vb(65,278528,null,0,c.i,[t.T,t.Q,t.u],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(66,0,null,null,2,"div",[["class","page-item"]],[[2,"disabled",null]],null,null,null,null)),(l()(),t.lb(16777216,null,null,1,null,L)),t.vb(68,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.lb(16777216,null,null,1,null,F)),t.vb(70,16384,null,0,c.j,[t.T,t.Q],{ngIf:[0,"ngIf"]},null),(l()(),t.wb(71,0,null,null,1,"ngx-spinner",[],null,null,null,p.b,p.a)),t.vb(72,770048,null,0,g.a,[g.c,t.i],null,null)],(function(l,n){var u=n.component;l(n,13,0,u.campoBusca);var e=t.Pb(n,56,0,t.Ib(n,58).transform(u.controles,l(n,57,0,30,u.paginaAtual,u.totalRegistros)));l(n,56,0,e),l(n,60,0),l(n,63,0,!t.Ib(n,60).isFirstPage()),l(n,65,0,t.Ib(n,60).pages),l(n,68,0,!t.Ib(n,60).isLastPage()),l(n,70,0,0==u.totalRegistros),l(n,72,0)}),(function(l,n){l(n,10,0,t.Ib(n,15).ngClassUntouched,t.Ib(n,15).ngClassTouched,t.Ib(n,15).ngClassPristine,t.Ib(n,15).ngClassDirty,t.Ib(n,15).ngClassValid,t.Ib(n,15).ngClassInvalid,t.Ib(n,15).ngClassPending),l(n,61,0,t.Ib(n,60).isFirstPage()),l(n,66,0,t.Ib(n,60).isLastPage())}))}function S(l){return t.Qb(0,[(l()(),t.wb(0,0,null,null,1,"app-relatorio-geral",[],null,null,null,A,x)),t.vb(1,114688,null,0,d,[w,f.k,f.a,g.c,v.a],null,null)],(function(l,n){l(n,1,0)}),null)}var z=t.sb("app-relatorio-geral",d,S,{id:"id",maxSize:"maxSize"},{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},[]),E=u("Xg1U");class R{}u.d(n,"RelatoriosModuleNgFactory",(function(){return V}));var V=t.tb(e,[],(function(l){return t.Fb([t.Gb(512,t.l,t.eb,[[8,[i.a,z,E.a]],[3,t.l],t.A]),t.Gb(4608,c.l,c.k,[t.w,[2,c.v]]),t.Gb(4608,o.v,o.v,[]),t.Gb(4608,b.d,b.d,[]),t.Gb(1073742336,c.b,c.b,[]),t.Gb(1073742336,o.u,o.u,[]),t.Gb(1073742336,o.g,o.g,[]),t.Gb(1073742336,g.b,g.b,[]),t.Gb(1073742336,b.a,b.a,[]),t.Gb(1073742336,f.o,f.o,[[2,f.t],[2,f.k]]),t.Gb(1073742336,R,R,[]),t.Gb(1073742336,a.d,a.d,[]),t.Gb(1073742336,e,e,[]),t.Gb(1024,f.i,(function(){return[[{path:"controle",children:[{path:"relatorio-geral",component:d}]}]]}),[])])}))}}]);