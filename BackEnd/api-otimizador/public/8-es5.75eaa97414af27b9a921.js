function _inherits(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),n&&_setPrototypeOf(l,n)}function _setPrototypeOf(l,n){return(_setPrototypeOf=Object.setPrototypeOf||function(l,n){return l.__proto__=n,l})(l,n)}function _createSuper(l){var n=_isNativeReflectConstruct();return function(){var u,e=_getPrototypeOf(l);if(n){var t=_getPrototypeOf(this).constructor;u=Reflect.construct(e,arguments,t)}else u=e.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _possibleConstructorReturn(l,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(l):n}function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(l){return!1}}function _getPrototypeOf(l){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function _defineProperties(l,n){for(var u=0;u<n.length;u++){var e=n[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{aw8J:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=function l(){_classCallCheck(this,l)},r=u("pMnS"),i=u("SVse"),o=u("jvCn"),a=u("7g+E"),s=function(){function l(n,u,e,t,r){_classCallCheck(this,l),this.serviceEmpresa=n,this.alertService=u,this.router=e,this.route=t,this.spinner=r,this.totalRegistros=0}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaLista()}},{key:"atualizaLista",value:function(){var l=this;this.spinner.show(),this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n,l.spinner.hide()}),(function(n){l.spinner.hide(),l.onBack()}))}},{key:"onBack",value:function(){this.router.navigate(["../../"],{relativeTo:this.route})}},{key:"clientes",value:function(){this.router.navigate(["/importador/importador-clientes/"+this.idEmpresa])}},{key:"fornecedores",value:function(){this.router.navigate(["/importador/importador-fornecedores/"+this.idEmpresa])}},{key:"cartoes",value:function(){this.router.navigate(["/importador/importador-cartoes/"+this.idEmpresa])}}]),l}(),c=u("uBF3"),b=u("sdrn"),d=u("iInd"),v=e.ub({encapsulation:0,styles:[[""]],data:{}});function p(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function m(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Importador de arquivos"])),(l()(),e.lb(16777216,null,null,1,null,p)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,0,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,17,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),e.wb(7,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(8,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(9,0,null,null,14,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(10,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(11,0,null,null,1,"p",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(12,0,null,null,0,"i",[["class","fas fa-download fa-3x"]],null,null,null,null,null)),(l()(),e.wb(13,0,null,null,2,"p",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CLIENTES EMPRESAS"])),(l()(),e.wb(16,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(17,0,null,null,3,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(18,0,null,null,0,"i",[["class","fas fa-info-circle mr-2"]],null,null,null,null,null)),(l()(),e.wb(19,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Instru\xe7\xf5es"])),(l()(),e.wb(21,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(22,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.clientes()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Come\xe7ar"])),(l()(),e.wb(24,0,null,null,17,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),e.wb(25,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(26,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(27,0,null,null,14,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(28,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(29,0,null,null,1,"p",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(30,0,null,null,0,"i",[["class","fas fa-download fa-3x"]],null,null,null,null,null)),(l()(),e.wb(31,0,null,null,2,"p",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(32,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["FORNECEDORES EMPRESAS"])),(l()(),e.wb(34,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(35,0,null,null,3,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(36,0,null,null,0,"i",[["class","fas fa-info-circle mr-2"]],null,null,null,null,null)),(l()(),e.wb(37,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Instru\xe7\xf5es"])),(l()(),e.wb(39,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(40,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.fornecedores()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Come\xe7ar"])),(l()(),e.wb(42,0,null,null,0,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e.wb(43,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(44,0,null,null,0,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e.wb(45,0,null,null,17,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),e.wb(46,0,null,null,16,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(47,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(48,0,null,null,14,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(49,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(50,0,null,null,1,"p",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(51,0,null,null,0,"i",[["class","fas fa-download fa-3x"]],null,null,null,null,null)),(l()(),e.wb(52,0,null,null,2,"p",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(53,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CART\xd5ES"])),(l()(),e.wb(55,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(56,0,null,null,3,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(57,0,null,null,0,"i",[["class","fas fa-info-circle mr-2"]],null,null,null,null,null)),(l()(),e.wb(58,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Instru\xe7\xf5es"])),(l()(),e.wb(60,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(61,0,null,null,1,"button",[["class","btn btn-outline-dark"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cartoes()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Come\xe7ar"])),(l()(),e.wb(63,0,null,null,0,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),e.wb(64,0,null,null,0,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e.wb(65,0,null,null,2,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.wb(66,0,null,null,0,"i",[["class","fas fa-undo-alt"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Voltar"])),(l()(),e.wb(68,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(69,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){l(n,3,0,n.component.empresa),l(n,69,0)}),null)}var h,f=e.sb("app-importador-list",s,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-list",[],null,null,null,m,v)),e.vb(1,114688,null,0,s,[c.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=function(){function l(n,u,e,t,r,i){_classCallCheck(this,l),this.service=n,this.serviceEmpresa=u,this.alertService=e,this.router=t,this.route=r,this.spinner=i,this.baixarArquivoContab=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaDados()}},{key:"atualizaDados",value:function(){var l=this;this.spinner.show(),this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n,l.spinner.hide()}),(function(n){l.spinner.hide(),l.onBack()}));var n=JSON.parse(localStorage.getItem("resultConfrontoClientes"));this.empresas=n[1]}},{key:"onBack",value:function(){null==this.empresa?this.router.navigate(["../../../"]):this.router.navigate(["../../../"+this.idEmpresa],{relativeTo:this.route})}},{key:"baixarClientesComErroExcel",value:function(){var l=this;this.spinner.show(),this.service.baixarClientesComErro(this.idEmpresa,"xls").subscribe((function(n){l.service.handleFile(n,"clientes-com-erro-".concat(l.idEmpresa,".xls")),l.spinner.hide()}),(function(n){l.spinner.hide()}))}},{key:"baixarClientesComErroPDF",value:function(){var l=this;this.spinner.show(),this.service.baixarClientesComErro(this.idEmpresa,"pdf").subscribe((function(n){l.service.handleFile(n,"clientes-com-erro-".concat(l.idEmpresa,".pdf")),l.spinner.hide()}),(function(n){l.spinner.hide()}))}},{key:"gerarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.gerarArquivoContabilidadeClientes(l).subscribe((function(l){n.alertService.showAlertSucess("Arquivo gerado com sucesso! Clique para fazer o download do arquivo."),n.baixarArquivoContab=!0,n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}},{key:"baixarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.baixarClientesContabilidade(l,"csv").subscribe((function(l){n.service.handleFile(l,"clientesContabilidade-ok-".concat(n.idEmpresa,".csv")),n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}}]),l}(),g=u("eWbo"),E=u("IheW"),y=((h=function(l){_inherits(u,l);var n=_createSuper(u);function u(l,e,t){var r;return _classCallCheck(this,u),(r=n.call(this)).http=l,r.router=e,r.alertService=t,r}return _createClass(u,[{key:"enviarArquivoFornecedor",value:function(l,n,u){var e=new FormData;return u.forEach((function(l){e.append("arquivo_fornecedor",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/fornecedores/").concat(l,"/").concat(n),e)}},{key:"enviarArquivoFornecedorEscritorio",value:function(l,n){var u=new FormData;return n.forEach((function(l){u.append("arquivo_fornecedor_escritorio",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/fornecedores/").concat(l,"/1"),u)}},{key:"confrontarFornecedores",value:function(l){return this.http.get("".concat(this.urlBase,"/importador/fornecedores/confrontar/").concat(l))}},{key:"baixarFornecedoresComErro",value:function(l,n){return this.http.get("".concat(this.urlBase,"/importador/fornecedores/download-fornecedores-com-erro/").concat(l,"/").concat(n),{responseType:"blob"})}},{key:"gerarArquivoContabilidade",value:function(l){return this.http.get("".concat(this.urlBase,"/importador/fornecedores/gerarArquivoContabilidade/").concat(l))}},{key:"baixarFornecedoresContabilidade",value:function(l,n){return this.http.get("".concat(this.urlBase,"/importador/fornecedores/download-fornecedores-contabilidade/").concat(l,"/").concat(n),{responseType:"blob"})}},{key:"enviarArquivoCliente",value:function(l,n,u){var e=new FormData;return u.forEach((function(l){e.append("arquivo_cliente",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/clientes/").concat(l,"/").concat(n),e)}},{key:"enviarArquivoClienteEscritorio",value:function(l,n){var u=new FormData;return n.forEach((function(l){u.append("arquivo_escritorio",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/clientes/").concat(l,"/1"),u)}},{key:"confrontarClientes",value:function(l){return this.http.get("".concat(this.urlBase,"/importador/clientes/confrontar/").concat(l))}},{key:"baixarClientesComErro",value:function(l,n){return this.http.get("".concat(this.urlBase,"/importador/clientes/download-clientes-com-erro/").concat(l,"/").concat(n),{responseType:"blob"})}},{key:"gerarArquivoContabilidadeClientes",value:function(l){return this.http.get("".concat(this.urlBase,"/importador/clientes/gerarArquivoContabilidade/").concat(l))}},{key:"baixarClientesContabilidade",value:function(l,n){return this.http.get("".concat(this.urlBase,"/importador/clientes/download-clientes-contabilidade/").concat(l,"/").concat(n),{responseType:"blob"})}},{key:"enviarArquivoCartao",value:function(l,n){var u=new FormData;return n.forEach((function(l){u.append("arquivo_cartao",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/cartoes/").concat(l),u)}},{key:"enviarArquivoCartaoEscritorio",value:function(l,n){var u=new FormData;return n.forEach((function(l){u.append("arquivo_cartao_escritorio",l[0],l.name)})),this.http.post("".concat(this.urlBase,"/importador/cartoes/").concat(l),u)}},{key:"gerarArquivoCartaoContabilidade",value:function(l){return this.http.get("".concat(this.urlBase,"/importador/cartoes/gerarArquivoContabilidade/").concat(l))}},{key:"baixarCartoesContabilidade",value:function(l,n){return this.http.get("".concat(this.urlBase,"/importador/cartoes/download-cartao/").concat(l,"/").concat(n),{responseType:"blob"})}},{key:"handleFile",value:function(l,n){var u=new Blob([l],{type:l.type});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(u);else{var e=window.URL.createObjectURL(u),t=document.createElement("a");t.href=e,t.download=n,t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout((function(){window.URL.revokeObjectURL(e),t.remove()}),150)}}}]),u}(g.a)).ngInjectableDef=e.Ub({factory:function(){return new h(e.Vb(E.c),e.Vb(d.k),e.Vb(b.a))},token:h,providedIn:"root"}),h),C=e.ub({encapsulation:0,styles:[[""]],data:{}});function k(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function q(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,2,"button",[["class","btn btn-primary mb-2 mt-2 mb-2 "]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.baixarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.wb(1,0,null,null,0,"i",[["class","fas fa-file-csv"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download Arquivo Contabilidade (.csv)"]))],null,null)}function O(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Ob(2,null,["",""])),(l()(),e.wb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Ob(4,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit[0]),l(n,4,0,n.context.$implicit[1])}))}function x(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Resultado Importa\xe7\xe3o Clientes"])),(l()(),e.lb(16777216,null,null,1,null,k)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,6,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,2,"button",[["class","btn btn-primary mb-2 mt-2 mr-0"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.baixarClientesComErroExcel()&&e),e}),null,null)),(l()(),e.wb(7,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download Excel"])),(l()(),e.wb(9,0,null,null,2,"button",[["class","btn btn-primary ml-2 mb-2 mt-2 mr-0"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.baixarClientesComErroPDF()&&e),e}),null,null)),(l()(),e.wb(10,0,null,null,0,"i",[["class","fas fa-file-pdf"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download PDF"])),(l()(),e.wb(12,0,null,null,4,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e.wb(13,0,null,null,1,"button",[["class","btn btn-primary mb-2 mt-2 mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.gerarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Gerar Arquivo Contabilidade"])),(l()(),e.lb(16777216,null,null,1,null,q)),e.vb(16,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(17,0,null,null,8,"table",[["class","table table-sm table-striped table-hover table-bordered table-responsive-md"]],null,null,null,null,null)),(l()(),e.wb(18,0,null,null,4,"thead",[["class","table-active"]],null,null,null,null,null)),(l()(),e.wb(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Empresa"])),(l()(),e.wb(21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CNPJ"])),(l()(),e.wb(23,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e.lb(16777216,null,null,1,null,O)),e.vb(25,278528,null,0,i.i,[e.T,e.Q,e.u],{ngForOf:[0,"ngForOf"]},null),(l()(),e.wb(26,0,null,null,2,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.wb(27,0,null,null,0,"i",[["class","fas fa-undo-alt"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Voltar"])),(l()(),e.wb(29,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(30,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){var u=n.component;l(n,3,0,u.empresa),l(n,16,0,u.baixarArquivoContab),l(n,25,0,u.empresas),l(n,30,0)}),null)}var A=e.sb("app-importador-result-cliente-erro",w,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-result-cliente-erro",[],null,null,null,x,C)),e.vb(1,114688,null,0,w,[y,c.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),F=u("s7LF"),I=function(){function l(n,u,e,t,r,i,o){_classCallCheck(this,l),this.service=n,this.serviceEmpresa=u,this.serviceLayoutRec=e,this.alertService=t,this.router=r,this.route=i,this.spinner=o,this.totalRegistros=0,this.msgCliente="",this.msgEscritorio=""}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaLista()}},{key:"atualizaLista",value:function(){var l=this;this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n,l.serviceLayoutRec.listaLayoutRecebimentos(l.idEmpresa).subscribe((function(n){l.layoutRecebimento=n,l.layoutRecebimento&&(l.idLayoutRecebimento=l.layoutRecebimento[0]?l.layoutRecebimento[0].id_recebimento:null)}),(function(n){return l.spinner.hide()})),l.spinner.hide()}),(function(n){l.spinner.hide(),l.onBack()}))}},{key:"onBack",value:function(){null==this.empresa?this.router.navigate(["../../"]):this.router.navigate(["../../"+this.idEmpresa],{relativeTo:this.route})}},{key:"carregaArquivoCliente",value:function(l){this.msgCliente="Arquivo carregado! Clique em Enviar arquivo";var n=l.srcElement.files;this.fileCliente=new Set,this.fileCliente.add(n)}},{key:"enviarArquivoCliente",value:function(){var l=this;this.spinner.show(),this.msgCliente="Enviando arquivo. Aguarde...",this.fileCliente&&this.fileCliente.size>0&&this.service.enviarArquivoCliente(this.idEmpresa,this.idLayoutRecebimento,this.fileCliente).subscribe((function(n){l.msgCliente="Arquivo enviado com sucesso!",l.spinner.hide()}),(function(n){l.alertService.showAlertDanger("Erro ao enviar arquivo!"+n),l.spinner.hide()}))}},{key:"carregaArquivoEscritorio",value:function(l){this.msgEscritorio="Arquivo carregado! Clique em Enviar arquivo";var n=l.srcElement.files;this.fileEscritorio=new Set,this.fileEscritorio.add(n)}},{key:"enviarArquivoEscritorio",value:function(){var l=this;this.spinner.show(),this.msgCliente="Enviando arquivo. Aguarde...",this.fileEscritorio&&this.fileEscritorio.size>0&&this.service.enviarArquivoClienteEscritorio(this.idEmpresa,this.fileEscritorio).subscribe((function(n){l.msgEscritorio="Arquivo enviado com sucesso!",l.spinner.hide()}),(function(n){l.alertService.showAlertDanger("Erro ao enviar arquivo!"+n),l.spinner.hide()}))}},{key:"confrontarClientes",value:function(l){var n=this;this.spinner.show(),this.service.confrontarClientes(this.idEmpresa).subscribe((function(l){localStorage.setItem("resultConfrontoClientes",JSON.stringify(l)),n.spinner.hide(),n.alertService.showAlertSucess("Confronto realizado com sucesso!"),setTimeout((function(){n.alertService.closeAlert(),n.router.navigate(["/importador/importador-clientes/resultado-confronto/"+n.idEmpresa])}),2e3)}),(function(l){n.spinner.hide()}))}},{key:"atualizaIdLayout",value:function(l){this.idLayoutRecebimento=l.target.value}},{key:"novoLayout",value:function(){this.router.navigate(["/layouts/recebimentos/"+this.idEmpresa+"/novo"])}}]),l}(),_=u("nqAl"),S=e.ub({encapsulation:0,styles:[[""]],data:{}});function R(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function T(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.vb(1,147456,null,0,F.p,[e.n,e.I,[8,null]],{value:[0,"value"]},null),e.vb(2,147456,null,0,F.x,[e.n,e.I,[8,null]],{value:[0,"value"]},null),(l()(),e.Ob(3,null,[" ",""]))],(function(l,n){l(n,1,0,e.Ab(1,"",n.context.$implicit.id_recebimento,"")),l(n,2,0,e.Ab(1,"",n.context.$implicit.id_recebimento,""))}),(function(l,n){l(n,3,0,n.context.$implicit.descricao)}))}function P(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,3,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,2,"select",[["class","form-control"],["id","layout-pagamento"],["name","layout-pagamento"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.atualizaIdLayout(u)&&e),e}),null,null)),(l()(),e.lb(16777216,null,null,1,null,T)),e.vb(3,278528,null,0,i.i,[e.T,e.Q,e.u],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.layoutRecebimento)}),null)}function B(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Esta empresa n\xe3o possui layout cadastrado. "])),(l()(),e.wb(2,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Favor cadastrar e depois realizar essa opera\xe7\xe3o! "])),(l()(),e.wb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.novoLayout()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Novo Layout"]))],null,null)}function Q(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Importador de arquivos - CLIENTES"])),(l()(),e.lb(16777216,null,null,1,null,R)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,5,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.lb(16777216,null,null,1,null,P)),e.vb(8,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.lb(16777216,null,null,1,null,B)),e.vb(10,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(11,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(12,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(13,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(14,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(15,0,null,null,12,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(17,0,null,null,2,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CLIENTES EMPRESA"])),(l()(),e.wb(20,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(21,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(22,0,null,null,0,"input",[["id","arquivo_cliente"],["name","arquivo_cliente"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.carregaArquivoCliente(u)&&e),e}),null,null)),(l()(),e.wb(23,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(24,0,null,null,1,"button",[["class","btn btn-outline-dark"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.enviarArquivoCliente()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Enviar arquivo"])),(l()(),e.wb(26,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(27,null,["",""])),(l()(),e.wb(28,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(29,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(30,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(31,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(32,0,null,null,12,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(33,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(34,0,null,null,2,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(35,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CLIENTES ESCRIT\xd3RIO CONT\xc1BIL"])),(l()(),e.wb(37,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(38,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(39,0,null,null,0,"input",[["id","arquivo_escritorio"],["name","arquivo_escritorio"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.carregaArquivoEscritorio(u)&&e),e}),null,null)),(l()(),e.wb(40,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(41,0,null,null,1,"button",[["class","btn btn-outline-dark"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.enviarArquivoEscritorio()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Enviar arquivo"])),(l()(),e.wb(43,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(44,null,["",""])),(l()(),e.wb(45,0,null,null,1,"button",[["class","btn btn-secondary mb-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.confrontarClientes(u)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Confrontar arquivos de Cliente"])),(l()(),e.wb(47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.wb(48,0,null,null,1,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Voltar"])),(l()(),e.wb(50,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(51,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){var u=n.component;l(n,3,0,u.empresa),l(n,8,0,u.layoutRecebimento&&u.layoutRecebimento[0]),l(n,10,0,u.layoutRecebimento&&!u.layoutRecebimento[0]),l(n,51,0)}),(function(l,n){var u=n.component;l(n,24,0,!u.fileCliente),l(n,27,0,u.msgCliente),l(n,41,0,!u.fileEscritorio),l(n,44,0,u.msgEscritorio),l(n,45,0,u.layoutRecebimento&&!u.layoutRecebimento[0])}))}var L=e.sb("app-importador-cliente",I,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-cliente",[],null,null,null,Q,S)),e.vb(1,114688,null,0,I,[y,c.a,_.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),D=function(){function l(n,u,e,t,r,i){_classCallCheck(this,l),this.service=n,this.serviceEmpresa=u,this.alertService=e,this.router=t,this.route=r,this.spinner=i,this.baixarArquivoContab=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaDados()}},{key:"atualizaDados",value:function(){var l=this;this.spinner.show(),this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n,l.spinner.hide()}),(function(n){l.spinner.hide(),l.onBack()}));var n=JSON.parse(localStorage.getItem("resultConfrontoFornecedores"));this.empresas=n[1]}},{key:"onBack",value:function(){null==this.empresa?this.router.navigate(["../../../"]):this.router.navigate(["../../../"+this.idEmpresa],{relativeTo:this.route})}},{key:"baixarFornecedoresComErroExcel",value:function(){var l=this;this.spinner.show(),this.service.baixarFornecedoresComErro(this.idEmpresa,"xls").subscribe((function(n){l.service.handleFile(n,"fornecedores-com-erro-".concat(l.idEmpresa,".xls")),l.spinner.hide()}),(function(n){l.spinner.hide()}))}},{key:"baixarFornecedoresComErroPDF",value:function(){var l=this;this.spinner.show(),this.service.baixarFornecedoresComErro(this.idEmpresa,"pdf").subscribe((function(n){l.service.handleFile(n,"fornecedores-com-erro-".concat(l.idEmpresa,".pdf")),l.spinner.hide()}),(function(n){l.spinner.hide()}))}},{key:"gerarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.gerarArquivoContabilidade(l).subscribe((function(l){n.alertService.showAlertSucess("Arquivo gerado com sucesso! Clique para fazer o download do arquivo."),n.baixarArquivoContab=!0,n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}},{key:"baixarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.baixarFornecedoresContabilidade(l,"csv").subscribe((function(l){n.service.handleFile(l,"fornecedoresContabilidade-ok-".concat(n.idEmpresa,".csv")),n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}}]),l}(),G=e.ub({encapsulation:0,styles:[[""]],data:{}});function z(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function j(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,2,"button",[["class","btn btn-primary mb-2 mt-2 mb-2 "]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.baixarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.wb(1,0,null,null,0,"i",[["class","fas fa-file-csv"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download Arquivo Contabilidade (.csv)"]))],null,null)}function N(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Ob(2,null,["",""])),(l()(),e.wb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Ob(4,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit[0]),l(n,4,0,n.context.$implicit[1])}))}function J(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Resultado Importa\xe7\xe3o Fornecedores"])),(l()(),e.lb(16777216,null,null,1,null,z)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,6,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,2,"button",[["class","btn btn-primary mb-2 mt-2 mr-0"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.baixarFornecedoresComErroExcel()&&e),e}),null,null)),(l()(),e.wb(7,0,null,null,0,"i",[["class","fas fa-file-excel"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download Excel"])),(l()(),e.wb(9,0,null,null,2,"button",[["class","btn btn-primary ml-2 mb-2 mt-2 mr-0"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.baixarFornecedoresComErroPDF()&&e),e}),null,null)),(l()(),e.wb(10,0,null,null,0,"i",[["class","fas fa-file-pdf"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Download PDF"])),(l()(),e.wb(12,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),e.wb(13,0,null,null,2,"button",[["class","btn btn-primary mb-2 mt-2 mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.gerarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.wb(14,0,null,null,0,"i",[["class","fas fa-play"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Gerar Arquivo Contabilidade"])),(l()(),e.lb(16777216,null,null,1,null,j)),e.vb(17,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(18,0,null,null,8,"table",[["class","table table-sm table-striped table-hover table-bordered table-responsive-md"]],null,null,null,null,null)),(l()(),e.wb(19,0,null,null,4,"thead",[["class","table-active"]],null,null,null,null,null)),(l()(),e.wb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Empresa"])),(l()(),e.wb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CNPJ"])),(l()(),e.wb(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e.lb(16777216,null,null,1,null,N)),e.vb(26,278528,null,0,i.i,[e.T,e.Q,e.u],{ngForOf:[0,"ngForOf"]},null),(l()(),e.wb(27,0,null,null,1,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Voltar"])),(l()(),e.wb(29,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(30,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){var u=n.component;l(n,3,0,u.empresa),l(n,17,0,u.baixarArquivoContab),l(n,26,0,u.empresas),l(n,30,0)}),null)}var V=e.sb("app-importador-result",D,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-result",[],null,null,null,J,G)),e.vb(1,114688,null,0,D,[y,c.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),$=function(){function l(n,u,e,t,r,i,o){_classCallCheck(this,l),this.service=n,this.serviceEmpresa=u,this.serviceLayoutPag=e,this.alertService=t,this.router=r,this.route=i,this.spinner=o,this.msgFornecedor="",this.msgFornecedorEscritorio=""}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaLista()}},{key:"atualizaLista",value:function(){var l=this;this.spinner.show(),this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n,l.serviceLayoutPag.listaLayoutPagamentos(l.idEmpresa).subscribe((function(n){l.layoutPagamento=n,l.layoutPagamento&&(l.idLayoutPagamento=l.layoutPagamento[0]?l.layoutPagamento[0].id_pagamento:null)})),l.spinner.hide()}),(function(n){l.spinner.hide(),l.onBack()}))}},{key:"onBack",value:function(){null==this.empresa?this.router.navigate(["../../"]):this.router.navigate(["../../"+this.idEmpresa],{relativeTo:this.route})}},{key:"carregaArquivoFornecedor",value:function(l){this.spinner.show(),this.msgFornecedor="Arquivo carregado! Clique em Enviar arquivo";var n=l.srcElement.files;this.fileFornecedor=new Set,this.fileFornecedor.add(n),this.spinner.hide()}},{key:"enviarArquivoFornecedor",value:function(){var l=this;this.spinner.show(),this.msgFornecedor="Enviando arquivo. Aguarde...",this.fileFornecedor&&this.fileFornecedor.size>0&&this.service.enviarArquivoFornecedor(this.idEmpresa,this.idLayoutPagamento,this.fileFornecedor).subscribe((function(n){l.msgFornecedor="Arquivo enviado com sucesso!",l.spinner.hide()}))}},{key:"carregaArquivoFornecedorEscritorio",value:function(l){this.spinner.show(),this.msgFornecedorEscritorio="Arquivo carregado! Clique em Enviar arquivo";var n=l.srcElement.files;this.fileFornecedorEscritorio=new Set,this.fileFornecedorEscritorio.add(n),this.spinner.hide()}},{key:"enviarArquivoFornecedorEscritorio",value:function(){var l=this;this.spinner.show(),this.msgFornecedorEscritorio="Enviando arquivo. Aguarde...",this.fileFornecedorEscritorio&&this.fileFornecedorEscritorio.size>0&&this.service.enviarArquivoFornecedorEscritorio(this.idEmpresa,this.fileFornecedorEscritorio).subscribe((function(n){l.msgFornecedorEscritorio="Arquivo enviado com sucesso!",l.spinner.hide()}))}},{key:"confrontarFornecedores",value:function(l){var n=this;this.spinner.show(),this.service.confrontarFornecedores(this.idEmpresa).subscribe((function(l){localStorage.setItem("resultConfrontoFornecedores",JSON.stringify(l)),n.spinner.hide(),n.alertService.showAlertSucess("Confronto realizado com sucesso!"),setTimeout((function(){n.alertService.closeAlert(),n.router.navigate(["/importador/importador-fornecedores/resultado-confronto/"+n.idEmpresa])}),2e3)}))}},{key:"atualizaIdLayout",value:function(l){this.idLayoutPagamento=l.target.value}},{key:"novoLayout",value:function(){this.router.navigate(["/layouts/pagamentos/"+this.idEmpresa+"/novo"])}}]),l}(),M=e.ub({encapsulation:0,styles:[[""]],data:{}});function U(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function X(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.vb(1,147456,null,0,F.p,[e.n,e.I,[8,null]],{value:[0,"value"]},null),e.vb(2,147456,null,0,F.x,[e.n,e.I,[8,null]],{value:[0,"value"]},null),(l()(),e.Ob(3,null,[" ",""]))],(function(l,n){l(n,1,0,e.Ab(1,"",n.context.$implicit.id_pagamento,"")),l(n,2,0,e.Ab(1,"",n.context.$implicit.id_pagamento,""))}),(function(l,n){l(n,3,0,n.context.$implicit.descricao)}))}function K(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,3,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,2,"select",[["class","form-control"],["id","layout-pagamento"],["name","layout-pagamento"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.atualizaIdLayout(u)&&e),e}),null,null)),(l()(),e.lb(16777216,null,null,1,null,X)),e.vb(3,278528,null,0,i.i,[e.T,e.Q,e.u],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.layoutPagamento)}),null)}function W(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Esta empresa n\xe3o possui layout cadastrado. "])),(l()(),e.wb(2,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Favor cadastrar e depois realizar essa opera\xe7\xe3o! "])),(l()(),e.wb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.novoLayout()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Novo Layout"]))],null,null)}function Y(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Importador de arquivos - FORNECEDORES"])),(l()(),e.lb(16777216,null,null,1,null,U)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,5,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.lb(16777216,null,null,1,null,K)),e.vb(8,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.lb(16777216,null,null,1,null,W)),e.vb(10,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(11,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(12,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(13,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(14,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(15,0,null,null,12,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(17,0,null,null,2,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["FORNECEDORES EMPRESA"])),(l()(),e.wb(20,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(21,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(22,0,null,null,0,"input",[["id","arquivo_fornecedor"],["name","arquivo_fornecedor"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.carregaArquivoFornecedor(u)&&e),e}),null,null)),(l()(),e.wb(23,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(24,0,null,null,1,"button",[["class","btn btn-outline-dark"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.enviarArquivoFornecedor()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Enviar arquivo"])),(l()(),e.wb(26,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(27,null,["",""])),(l()(),e.wb(28,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(29,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(30,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(31,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(32,0,null,null,12,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(33,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(34,0,null,null,2,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(35,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["FORNECEDORES ESCRIT\xd3RIO CONT\xc1BIL"])),(l()(),e.wb(37,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(38,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(39,0,null,null,0,"input",[["id","arquivo_fornecedor_escritorio"],["name","arquivo_fornecedor_escritorio"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.carregaArquivoFornecedorEscritorio(u)&&e),e}),null,null)),(l()(),e.wb(40,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(41,0,null,null,1,"button",[["class","btn btn-outline-dark"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.enviarArquivoFornecedorEscritorio()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Enviar arquivo"])),(l()(),e.wb(43,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(44,null,["",""])),(l()(),e.wb(45,0,null,null,1,"button",[["class","btn btn-secondary mb-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.confrontarFornecedores(u)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Confrontar arquivos de Fornecedores"])),(l()(),e.wb(47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.wb(48,0,null,null,1,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Voltar"])),(l()(),e.wb(50,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(51,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){var u=n.component;l(n,3,0,u.empresa),l(n,8,0,u.layoutPagamento&&u.layoutPagamento[0]),l(n,10,0,u.layoutPagamento&&!u.layoutPagamento[0]),l(n,51,0)}),(function(l,n){var u=n.component;l(n,24,0,!u.fileFornecedor),l(n,27,0,u.msgFornecedor),l(n,41,0,!u.fileFornecedorEscritorio),l(n,44,0,u.msgFornecedorEscritorio),l(n,45,0,u.layoutPagamento&&!u.layoutPagamento[0])}))}var Z=e.sb("app-importador-fornecedor",$,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-fornecedor",[],null,null,null,Y,M)),e.vb(1,114688,null,0,$,[y,c.a,_.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),H=function(){function l(n,u,e,t,r,i){_classCallCheck(this,l),this.service=n,this.serviceEmpresa=u,this.alertService=e,this.router=t,this.route=r,this.spinner=i,this.totalRegistros=0,this.msgCartao="",this.msgEscritorio="",this.baixarArquivoCartao=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.idEmpresa=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id,10):null,null==this.idEmpresa?this.onBack():this.atualizaLista()}},{key:"atualizaLista",value:function(){var l=this;this.serviceEmpresa.listPorId(this.idEmpresa).subscribe((function(n){l.empresa=n}),(function(n){l.onBack()}))}},{key:"onBack",value:function(){null==this.empresa?this.router.navigate(["../../"]):this.router.navigate(["../../"+this.idEmpresa],{relativeTo:this.route})}},{key:"carregaArquivoCartao",value:function(l){this.msgCartao="Arquivo carregado! Clique em Enviar arquivo";var n=l.srcElement.files;this.fileCartao=new Set,this.fileCartao.add(n)}},{key:"enviarArquivoCartao",value:function(){var l=this;this.spinner.show(),this.msgCartao="Enviando arquivo. Aguarde...",this.fileCartao&&this.fileCartao.size>0&&this.service.enviarArquivoCartao(this.idEmpresa,this.fileCartao).subscribe((function(n){l.msgCartao="Arquivo enviado com sucesso!",l.spinner.hide()}))}},{key:"gerarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.gerarArquivoCartaoContabilidade(l).subscribe((function(l){n.alertService.showAlertSucess("Arquivo gerado com sucesso! Clique para fazer o download do arquivo."),n.baixarArquivoCartao=!0,n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}},{key:"baixarArquivoContabilidade",value:function(l){var n=this;this.spinner.show(),this.service.baixarCartoesContabilidade(l,"csv").subscribe((function(l){n.service.handleFile(l,"cartoesContabilidade-".concat(n.idEmpresa,".csv")),n.spinner.hide()}),(function(l){n.alertService.showAlertDanger("Erro ao gerar arquivo. Tente novamente mais tarde!"),n.spinner.hide()}))}}]),l}(),ll=e.ub({encapsulation:0,styles:[[""]],data:{}});function nl(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.wb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.wb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Ob(3,null,[""," - ",""])),(l()(),e.wb(4,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ob(5,null,["Respons\xe1vel: "," "])),(l()(),e.wb(6,0,null,null,0,"hr",[],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,3,0,null==u.empresa?null:u.empresa.nome,null==u.empresa?null:u.empresa.id_empresa),l(n,5,0,null==u.empresa||null==u.empresa.usuario?null:u.empresa.usuario.nome)}))}function ul(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"button",[["class","btn btn-primary mb-2 mt-2 mb-2 "]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.baixarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Download Arquivo Contabilidade (.csv)"]))],null,null)}function el(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"h3",[["class","text-center"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Importador de arquivos - CART\xd5ES"])),(l()(),e.lb(16777216,null,null,1,null,nl)),e.vb(3,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(4,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(5,0,null,null,15,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e.wb(6,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(l()(),e.wb(7,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),e.wb(8,0,null,null,12,"div",[["class","card-text"]],null,null,null,null,null)),(l()(),e.wb(9,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(10,0,null,null,2,"p",[["class","col-12 text-center"]],null,null,null,null,null)),(l()(),e.wb(11,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["CART\xd5ES EMPRESA"])),(l()(),e.wb(13,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.wb(14,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(l()(),e.wb(15,0,null,null,0,"input",[["id","arquivo_cartao"],["name","arquivo_cartao"],["type","file"]],null,[[null,"change"]],(function(l,n,u){var e=!0;return"change"===n&&(e=!1!==l.component.carregaArquivoCartao(u)&&e),e}),null,null)),(l()(),e.wb(16,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(l()(),e.wb(17,0,null,null,1,"button",[["class","btn btn-outline-dark"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.enviarArquivoCartao()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Enviar arquivo"])),(l()(),e.wb(19,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(20,null,["",""])),(l()(),e.wb(21,0,null,null,1,"button",[["class","btn btn-primary mb-2 mt-2 mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=!1!==t.gerarArquivoContabilidade(t.idEmpresa)&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Gerar Arquivo Contabilidade"])),(l()(),e.lb(16777216,null,null,1,null,ul)),e.vb(24,16384,null,0,i.j,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.wb(25,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.wb(26,0,null,null,1,"button",[["class","btn btn-primary mb-2"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.onBack()&&e),e}),null,null)),(l()(),e.Ob(-1,null,["Voltar"])),(l()(),e.wb(28,0,null,null,1,"ngx-spinner",[],null,null,null,o.b,o.a)),e.vb(29,770048,null,0,a.a,[a.c,e.i],null,null)],(function(l,n){var u=n.component;l(n,3,0,u.empresa),l(n,24,0,u.baixarArquivoCartao),l(n,29,0)}),(function(l,n){var u=n.component;l(n,17,0,!u.fileCartao),l(n,20,0,u.msgCartao)}))}var tl=e.sb("app-importador-cartao",H,(function(l){return e.Qb(0,[(l()(),e.wb(0,0,null,null,1,"app-importador-cartao",[],null,null,null,el,ll)),e.vb(1,114688,null,0,H,[y,c.a,b.a,d.k,d.a,a.c],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),rl=u("LZdP"),il=u("tmd5"),ol=function l(){_classCallCheck(this,l)},al=u("ADsi");u.d(n,"ImportadorModuleNgFactory",(function(){return sl}));var sl=e.tb(t,[],(function(l){return e.Fb([e.Gb(512,e.l,e.eb,[[8,[r.a,f,A,L,V,Z,tl,rl.a,il.a]],[3,e.l],e.A]),e.Gb(4608,i.l,i.k,[e.w,[2,i.v]]),e.Gb(4608,E.i,E.o,[i.c,e.F,E.m]),e.Gb(4608,E.p,E.p,[E.i,E.n]),e.Gb(5120,E.a,(function(l){return[l]}),[E.p]),e.Gb(4608,E.l,E.l,[]),e.Gb(6144,E.j,null,[E.l]),e.Gb(4608,E.h,E.h,[E.j]),e.Gb(6144,E.b,null,[E.h]),e.Gb(4608,E.f,E.k,[E.b,e.s]),e.Gb(4608,E.c,E.c,[E.f]),e.Gb(4608,F.v,F.v,[]),e.Gb(4608,F.d,F.d,[]),e.Gb(1073742336,i.b,i.b,[]),e.Gb(1073742336,E.e,E.e,[]),e.Gb(1073742336,E.d,E.d,[]),e.Gb(1073742336,d.o,d.o,[[2,d.t],[2,d.k]]),e.Gb(1073742336,ol,ol,[]),e.Gb(1073742336,F.u,F.u,[]),e.Gb(1073742336,F.g,F.g,[]),e.Gb(1073742336,F.q,F.q,[]),e.Gb(1073742336,al.a,al.a,[]),e.Gb(1073742336,a.b,a.b,[]),e.Gb(1073742336,t,t,[]),e.Gb(256,E.m,"XSRF-TOKEN",[]),e.Gb(256,E.n,"X-XSRF-TOKEN",[]),e.Gb(1024,d.i,(function(){return[[{path:"",component:s},{path:":id",component:s},{path:"importador-clientes/resultado-confronto/:id",component:w},{path:"importador-clientes/:id",component:I},{path:"importador-fornecedores/resultado-confronto/:id",component:D},{path:"importador-fornecedores/:id",component:$},{path:"importador-cartoes/:id",component:H}]]}),[]),e.Gb(256,F.w,"never",[])])}))}}]);